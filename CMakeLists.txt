list(APPEND CMAKE_MODULE_PATH "${cmake-modules}")

if(NOT MSVC)
    if(PKG_CONFIG_FOUND)
        pkg_check_modules(libusb "libusb-1.0" QUIET)
    endif()
    if(libusb_FOUND)
        include_directories(${libusb_INCLUDE_DIRS})
        link_libraries(${libusb_LIBRARIES})
    endif()
else()
    set(SDK_LIBUSB CACHE PATH "")
    if(SDK_LIBUSB)
        set(libusb_FOUND TRUE)
        link_directories("${SDK_LIBUSB}")
        include_directories("${SDK_LIBUSB}")
    endif()
endif()

if(libusb_FOUND)
    add_library(ps3eye-driver STATIC "ps3eye.cpp")
    add_subdirectory("sdl")
endif()
